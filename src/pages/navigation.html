<template bindable="router">
    <header class="main-header">
        <a href="${router.generate('dashboard')}" class="logo">
            <span class="logo-mini">
                <img src="../images/logo_s.png"/>
            </span>
            <span class="logo-lg"><img src="../images/logo_s.png"/> OpenMotics</span>
        </a>
        <nav class="navbar navbar-static-top" role="navigation">
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <div class="navbar-custom-menu">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="${router.generate('logout')}"><i class="fa fa-sign-out"></i></a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <aside class="main-sidebar">
        <section class="sidebar">
            <ul class="sidebar-menu">
                <li repeat.for="row of router.navigation | subMenu"
                    class="${row.children.length > 0 ? 'treeview' : ''} ${row.isActive ? 'active' : ''}">
                    <a if.bind="row.children.length === 0"
                       href.bind="row.href" onclick="document.body.className = document.body.className.replace('sidebar-open', '');">
                        <i class="fa" translate.bind="'pages.' + row.settings.key + '.icon'"></i>
                        <span translate.bind="'pages.' + row.settings.key + '.title'"></span>
                        <i class="fa ${row.isActive ? 'fa-angle-down' : 'fa-angle-left'} pull-right" if.bind="row.children.length > 0"></i>
                    </a>
                    <a if.bind="row.children.length > 0" href.bind="row.href">
                        <i class="fa" translate.bind="'pages.' + row.settings.key + '.icon'"></i>
                        <span translate.bind="'pages.' + row.settings.key + '.title'"></span>
                        <i class="fa ${row.isActive ? 'fa-angle-down' : 'fa-angle-left'} pull-right" ></i>
                    </a>
                    <ul if.bind="row.isActive && row.children.length > 0" class="treeview-menu">
                        <li repeat.for="sub of row.children" class="${sub.isActive ? 'active' : ''}">
                            <a href.bind="sub.href" onclick="document.body.className = document.body.className.replace('sidebar-open', '');">
                                <i class="fa" translate.bind="'pages.' + sub.settings.key + '.icon'"></i>
                                <span translate.bind="'pages.' + sub.settings.key + '.title'"></span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </section>
    </aside>
</template>
